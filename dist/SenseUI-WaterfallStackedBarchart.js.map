{"version":3,"sources":["webpack:///webpack/bootstrap d92ccbe5abb016e9aa22","webpack:///./src/index.less?2186","webpack:///./src/index.js","webpack:///./src/index.less","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/lib/addStyles.js","webpack:///./~/style-loader/lib/urls.js","webpack:///./src/utilities.js"],"names":["define","window","qlik","$","d3","initialProperties","qHyperCubeDef","qDimensions","qMeasures","qInitialDataFetch","qWidth","qHeight","definition","type","component","items","dimensions","uses","min","max","measures","sorting","settings","general","label","sort","ref","options","value","defaultValue","support","snapshot","export","exportData","paint","$element","layout","vars","extend","v","id","qInfo","qId","name","data","qHyperCube","qDataPages","qMatrix","filter","d","qIsNull","height","width","totalColumns","qSize","qcx","dimension1","qDimensionInfo","qFallbackTitle","dimension2","measure1","qMeasureInfo","selected","element","this","margin","top","right","bottom","left","precision","palette","paletteText","bar","padding","border","color","colorHover","textColor","textHoverColor","borderColor","borderColorHover","visible","characters","rightPadding","minWidth","font","size","tooltip","totalRows","qcy","tip","backendApi","hasSelections","labels","labelsCreated","selectedLabels","cumulative","dataRef","i","length","start","qNum","cumulativeAmount","end","push","qText","qElemNumber","dataRef2","index","totalDimension1","title","total","amount","grandTotal","key","includes","parseInt","totalAmount","previousKey","measure1Num","parseFloat","toFixed","dataRef3","a","b","dataRefTemp","key2","temp","css","remove","legend","template","html","appendTo","on","e","target","attributes","qelemnumber","selectValues","splice","indexOf","x","scaleBand","rangeRound","y","scaleLinear","range","ycum","domain","xAxis","axisBottom","yAxis","axisLeft","map","chart","select","append","attr","call","selectAll","tickFormat","roundNumber","enter","class","bandwidth","Math","abs","style","event","pageX","pageY","qElemNumber1","text","percentage","console","info","Promise","resolve","util","num","noPrecision","test","round","replace","symbol","char","otherPosition","other"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC/DA;;AAEA;;AAEA;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA,EAAE;;AAEF,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;;;AC5CA;;;;AACA;;;;;;AAEA,IAAMA,SAAUC,UAAUA,OAAOD,MAAlB,IAA6BA,MAA5C;;AAEAA,OAAO,CACN,MADM,EAEN,QAFM,EAGN,UAHM,CAAP,EAKC,UAAUE,IAAV,EAAgBC,CAAhB,EAAmBC,EAAnB,EAAuB;AACtB;;AACA,QAAO;AACNC,qBAAmB;AAClBC,kBAAe;AACdC,iBAAa,EADC;AAEdC,eAAW,EAFG;AAGdC,uBAAmB,CAAC;AACnBC,aAAQ,CADW;AAEnBC,cAAS;AAFU,KAAD;AAHL;AADG,GADb;AAWNC,cAAY;AACXC,SAAM,OADK;AAEXC,cAAW,WAFA;AAGXC,UAAO;AACN;AACA;AACA;AACA;AACA;AACAC,gBAAY;AACXC,WAAM,YADK;AAEXC,UAAK,CAFM;AAGXC,UAAK;AAHM,KANN;AAWNC,cAAU;AACTH,WAAM,UADG;AAETC,UAAK,CAFI;AAGTC,UAAK;AAHI,KAXJ;AAgBNE,aAAS;AACRJ,WAAM;AADE,KAhBH;AAmBNK,cAAU;AACTL,WAAM,UADG;AAETF,YAAO;AACNQ,eAAS;AACRV,aAAM,OADE;AAERW,cAAO,SAFC;AAGRT,cAAO;AACNU,cAAM;AACLZ,eAAM,SADD;AAELC,oBAAW,QAFN;AAGLU,gBAAO,uBAHF;AAILE,cAAK,WAJA;AAKLC,kBAAS,CAAC;AACTC,iBAAO,IADE;AAETJ,iBAAO;AAFE,UAAD,EAGN;AACFI,iBAAO,KADL;AAEFJ,iBAAO;AAFL,UAHM,CALJ;AAYLK,uBAAc;AAZT;AADA;AAHC;AADH;AAFE;AAnBJ;AAHI,GAXN;AA4DNC,WAAS;AACRC,aAAU,IADF;AAERC,WAAQ,IAFA;AAGRC,eAAY;AAHJ,GA5DH;AAiENC,SAAO,eAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAClC,OAAIC,OAAOlC,EAAEmC,MAAF,CAAS,IAAT,EAAe;AACzBC,OAAG,OADsB;AAEzBC,QAAIJ,OAAOK,KAAP,CAAaC,GAFQ;AAGzBC,UAAM,uBAHmB;AAIzBC,UAAMR,OAAOS,UAAP,CAAkBC,UAAlB,CAA6B,CAA7B,EAAgCC,OAAhC,CAAwCC,MAAxC,CAA+C;AAAA,YAAK,CAACC,EAAE,CAAF,EAAKC,OAAX;AAAA,KAA/C,CAJmB;AAKzBC,YAAQhB,SAASgB,MAAT,EALiB;AAMzBC,WAAOjB,SAASiB,KAAT,EANkB;AAOzBC,kBAAcjB,OAAOS,UAAP,CAAkBS,KAAlB,CAAwBC,GAPb;AAQzBC,gBAAY;AACXhC,YAAOY,OAAOS,UAAP,CAAkBY,cAAlB,CAAiC,CAAjC,EAAoCC;AADhC,KARa;AAWzBC,gBAAY;AACXnC,YAAOY,OAAOS,UAAP,CAAkBY,cAAlB,CAAiC,CAAjC,EAAoCC;AADhC,KAXa;AAczBE,cAAU;AACTpC,YAAOY,OAAOS,UAAP,CAAkBgB,YAAlB,CAA+B,CAA/B,EAAkCH;AADhC,KAde;AAiBzBI,cAAU,EAjBe;AAkBzBC,aAAS5B,QAlBgB;AAmBzBC,YAAQA,MAnBiB;AAoBzB4B,UAAM,IApBmB;AAqBzBC,YAAQ,EAAEC,KAAK,EAAP,EAAWC,OAAO,EAAlB,EAAsBC,QAAQ,EAA9B,EAAkCC,MAAM,EAAxC,EArBiB;AAsBzBC,eAAW,IAtBc;AAuBzBC,aAAS,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,EAA+G,SAA/G,EAA0H,SAA1H,EAAqI,SAArI,EAAgJ,SAAhJ,EAA2J,SAA3J,EAAsK,SAAtK,EAAiL,SAAjL,EAA4L,SAA5L,EAAuM,SAAvM,EAAkN,SAAlN,EAA6N,SAA7N,EAAwO,SAAxO,EAAmP,SAAnP,EAA8P,SAA9P,CAvBgB;AAwBzBC,iBAAa,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,EAA+G,SAA/G,EAA0H,SAA1H,EAAqI,SAArI,EAAgJ,SAAhJ,EAA2J,SAA3J,EAAsK,SAAtK,EAAiL,SAAjL,EAA4L,SAA5L,EAAuM,SAAvM,EAAkN,SAAlN,EAA6N,SAA7N,EAAwO,SAAxO,EAAmP,SAAnP,EAA8P,SAA9P,CAxBY;AAyBzBC,SAAK;AACJtB,aAAQ,EADJ;AAEJuB,cAAS,CAFL;AAGJC,aAAQ,CAHJ;AAIJC,YAAO,CAAC,SAAD,CAJH;AAKJC,iBAAY,SALR;AAMJC,gBAAW,CAAC,SAAD,CANP;AAOJC,qBAAgB,CAAC,SAAD,CAPZ;AAQJC,kBAAa,SART;AASJC,uBAAkB;AATd,KAzBoB;AAoCzBzD,WAAO;AACN0D,cAAS,CADH;AAEN9B,YAAO,GAFD;AAGN+B,iBAAY,EAHN;AAINC,mBAAc,EAJR;AAKNV,cAAS,EALH;AAMNW,eAAU;AANJ,KApCkB;AA4CzBC,UAAM;AACLC,WAAM;AADD,KA5CmB;AA+CzBC,aAAS;AACRN,cAAS;AADD;AA/CgB,IAAf,EAkDR9C,OAAOC,IAlDC,CAAX;AAmDA,uBAAKoD,SAAL,GAAkB,oBAAKA,SAAN,GAAmB,oBAAKA,SAAxB,GAAoCrD,OAAOS,UAAP,CAAkBS,KAAlB,CAAwBoC,GAA7E;AACA,OAAMC,MAAM,oBAAKH,OAAL,CAAazB,OAAb,CAAqB3D,EAArB,CAAZ;AACA;AACA,OAAI,CAACiC,KAAK2B,IAAL,CAAU4B,UAAV,CAAqBC,aAArB,EAAL,EAA2C;AAC1C,wBAAKC,MAAL,GAAc,EAAd;AACA,wBAAKC,aAAL,GAAqB,KAArB;AACA,wBAAKC,cAAL,GAAsB,EAAtB;AACA;AACD;;;AAGA,OAAIC,aAAa,CAAjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA5D,QAAK6D,OAAL,GAAe,EAAf;AACA,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI9D,KAAKO,IAAL,CAAUwD,MAA9B,EAAsCD,GAAtC,EAA2C;AAC1C,QAAIE,QAAQJ,UAAZ;AACAA,kBAAc5D,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAA9B;AACA,QAAIC,mBAAoBJ,IAAI,CAAL,GAAU9D,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAAhB,GAAuBjE,KAAK6D,OAAL,CAAaC,IAAI,CAAjB,EAAoBI,gBAArD,GAAwEN,UAA/F;AACA,QAAIO,MAAMP,UAAV;AACA5D,SAAK6D,OAAL,CAAaO,IAAb,CAAkB;AACjB,mBAAcpE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KADb;AAEjB,mBAAcrE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAFb;AAGjB,iBAAYrE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAHX;AAIjB,oBAAerE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAJd;AAKjB,qBAAgBjE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBQ,WALf;AAMjB,cAASN,KANQ;AAOjB,YAAOG;AACP;AACA;AATiB,KAAlB;AAWA;AACD;AACA;AACA;AACAnE,QAAKuE,QAAL,GAAgB,EAAhB;AACA,OAAIC,QAAQ,CAAZ;AACAZ,gBAAa,CAAb;AACA,OAAIa,kBAAkB,CAAtB;AACA,QAAKX,IAAI,CAAT,EAAYA,IAAI9D,KAAKO,IAAL,CAAUwD,MAA1B,EAAkCD,GAAlC,EAAuC;AACtC,QAAI,CAAC9D,KAAKuE,QAAL,CAAcvE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA9B,CAAL,EAA2C;AAC1CrE,UAAKuE,QAAL,CAAcvE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA9B,IAAuC;AACtCK,aAAO1E,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KADe;AAEtC9D,YAAM,EAFgC;AAGtCoE,aAAO,CAH+B;AAItCC,cAAQ,CAJ8B;AAKtCV,wBAAkB;AALoB,MAAvC;AAOAO,wBAAmB,CAAnB;AACA;AACDT,YAAQJ,UAAR;AACAA,kBAAc5D,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAA9B;AACA;AACA;AACAE,UAAMP,UAAN;AACA;AACA5D,SAAKuE,QAAL,CAAcvE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA9B,EAAqC9D,IAArC,CAA0C6D,IAA1C,CAA+C;AAC9C,mBAAcpE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KADgB;AAE9C,mBAAcrE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAFgB;AAG9C,iBAAYrE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAHkB;AAI9C,oBAAerE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAJe;AAK9C,qBAAgBjE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBQ,WALc;AAM9C,qBAAgBtE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBQ,WANc;AAO9C,cAASN,KAPqC;AAQ9C,YAAOG,GARuC;AAS9C,cAAUnE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAAhB,IAAwB,CAAzB,GAA8B,UAA9B,GAA2C;AATN,KAA/C;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAI,CAAC,oBAAKP,aAAV,EAAyB;AACxB,SAAI,CAAC,oBAAKD,MAAL,CAAYzD,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA5B,CAAL,EAAyC;AACxC,0BAAKZ,MAAL,CAAYzD,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA5B,IAAqC;AACpCK,cAAO1E,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KADa;AAEpCC,oBAAatE,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBQ,WAFO;AAGpC/B,cAAOvC,KAAKkC,OAAL,CAAasC,KAAb,CAH6B;AAIpC/B,kBAAWzC,KAAKmC,WAAL,CAAiBqC,KAAjB,CAJyB;AAKpCG,cAAO3E,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG;AALa,OAArC;AAOAO,eAAS,CAAT;AACA,MATD,MASO;AACN,0BAAKf,MAAL,CAAYzD,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBO,KAA5B,EAAmCM,KAAnC,IAA4C3E,KAAKO,IAAL,CAAUuD,CAAV,EAAa,CAAb,EAAgBG,IAA5D;AACA;AACD;AACD;AACD;AACA,uBAAKP,aAAL,GAAqB,IAArB;AACA;AACAM,WAAQ,CAAR;AACAG,SAAM,CAAN;AACA,OAAIU,aAAa7E,KAAK6D,OAAL,CAAa7D,KAAK6D,OAAL,CAAaE,MAAb,GAAsB,CAAnC,EAAsCI,GAAvD;AACA;AACA,OAAIM,kBAAkB,CAAtB,EAAyB;AACxB,SAAK,IAAIK,GAAT,IAAgB,oBAAKrB,MAArB,EAA6B;AAC5B,SAAI,oBAAKE,cAAL,CAAoBI,MAApB,KAA+B,CAA/B,IAAoC,oBAAKJ,cAAL,CAAoBoB,QAApB,CAA6BD,GAA7B,CAAxC,EAA2E;AAC1EX,aAAO,oBAAKV,MAAL,CAAYqB,GAAZ,EAAiBH,KAAxB;AACA;AACA3E,WAAK6D,OAAL,CAAaO,IAAb,CAAkB;AACjB,qBAAc,OADG;AAEjB,qBAAcU,GAFG;AAGjB,mBAAY,oBAAKrB,MAAL,CAAYqB,GAAZ,EAAiBH,KAHZ;AAIjB,sBAAe,oBAAKlB,MAAL,CAAYqB,GAAZ,EAAiBH,KAJf;AAKjB,gBAASX,KALQ;AAMjB,cAAOG,GANU;AAOjB,uBAAgB,oBAAKV,MAAL,CAAYqB,GAAZ,EAAiBR,WAPhB;AAQjB,qBAAcU,SAAU,oBAAKvB,MAAL,CAAYqB,GAAZ,EAAiBH,KAAjB,GAAyBE,UAA1B,GAAwC,GAAjD,IAAwD;AARrD,OAAlB;AAUAb,cAAQG,GAAR;AACA;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAIc,cAAc,CAAlB;AACA,OAAIC,cAAc,IAAlB;AACA,QAAKJ,GAAL,IAAY9E,KAAKuE,QAAjB,EAA2B;AAC1BvE,SAAKuE,QAAL,CAAcO,GAAd,EAAmBd,KAAnB,GAA2BiB,WAA3B;AAD0B;AAAA;AAAA;;AAAA;AAE1B,0BAAkBjF,KAAKuE,QAAL,CAAcO,GAAd,EAAmBvE,IAArC,8HAA2C;AAAA,UAAlChB,KAAkC;;AAC1CS,WAAKuE,QAAL,CAAcO,GAAd,EAAmBF,MAAnB,IAA6BrF,MAAM4F,WAAnC;AACAnF,WAAKuE,QAAL,CAAcO,GAAd,EAAmBH,KAAnB,IAA4BpF,MAAM4F,WAAlC;AACA;AALyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAM1BF,mBAAejF,KAAKuE,QAAL,CAAcO,GAAd,EAAmBF,MAAlC;AACA5E,SAAKuE,QAAL,CAAcO,GAAd,EAAmBX,GAAnB,GAAyBc,WAAzB;AACA,QAAIC,WAAJ,EAAiB;AAChBlF,UAAKuE,QAAL,CAAcO,GAAd,EAAmBZ,gBAAnB,GAAsClE,KAAKuE,QAAL,CAAcO,GAAd,EAAmBF,MAAnB,GAA4B5E,KAAKuE,QAAL,CAAcW,WAAd,EAA2BhB,gBAA7F;AACA,KAFD,MAEO;AACNlE,UAAKuE,QAAL,CAAcO,GAAd,EAAmBZ,gBAAnB,GAAsClE,KAAKuE,QAAL,CAAcO,GAAd,EAAmBF,MAAzD;AACA;AACDM,kBAAcJ,GAAd;AACA;AACD;AACA,QAAKA,GAAL,IAAY9E,KAAKuE,QAAjB,EAA2B;AAC1BvE,SAAKuE,QAAL,CAAcO,GAAd,EAAmB,sBAAnB,IAA6CM,WAAW,CAACpF,KAAKuE,QAAL,CAAcO,GAAd,EAAmBZ,gBAAnB,GAAsCe,WAAvC,EAAoDI,OAApD,CAA4D,CAA5D,CAAX,CAA7C;AACA;AACD;AACArF,QAAKuE,QAAL,CAAc,OAAd,IAAyB;AACxBG,WAAO,OADiB;AAExBnE,UAAM,EAFkB;AAGxBoE,WAAO,CAHiB;AAIxBC,YAAQ,CAJgB;AAKxBV,sBAAkB;AALM,IAAzB;AAOA,QAAKJ,CAAL,IAAU9D,KAAK6D,OAAf,EAAwB;AACvB,QAAI7D,KAAK6D,OAAL,CAAaC,CAAb,EAAgB3C,UAAhB,KAA+B,OAAnC,EAA4C;AAC3CnB,UAAKuE,QAAL,CAAc,OAAd,EAAuBhE,IAAvB,CAA4B6D,IAA5B,CAAiC;AAChC,oBAAcpE,KAAK6D,OAAL,CAAaC,CAAb,EAAgB3C,UADE;AAEhC,oBAAcnB,KAAK6D,OAAL,CAAaC,CAAb,EAAgBxC,UAFE;AAGhC,kBAAYtB,KAAK6D,OAAL,CAAaC,CAAb,EAAgBvC,QAHI;AAIhC,qBAAevB,KAAK6D,OAAL,CAAaC,CAAb,EAAgBqB;AAJC,MAAjC;AAMAnF,UAAKuE,QAAL,CAAc,OAAd,EAAuBI,KAAvB,IAAgC3E,KAAK6D,OAAL,CAAaC,CAAb,EAAgBqB,WAAhD;AACA;AACD;AACD;AACAnF,QAAKsF,QAAL,GAAgB,EAAhB;AACA,QAAKR,GAAL,IAAY9E,KAAKuE,QAAjB,EAA2B;AAC1BvE,SAAKsF,QAAL,CAAclB,IAAd,CAAmBpE,KAAKuE,QAAL,CAAcO,GAAd,CAAnB;AACA;AACD,OAAI9E,KAAKZ,IAAT,EAAe;AACd;AACAY,SAAKsF,QAAL,CAAclG,IAAd,CAAmB,UAAUmG,CAAV,EAAaC,CAAb,EAAgB;AAClC,SAAID,EAAEb,KAAF,KAAY,OAAZ,IAAuBc,EAAEd,KAAF,KAAY,OAAvC,EAAgD,OAAO,CAAC,CAAR;AAChD,YAAOa,EAAEZ,KAAF,GAAUa,EAAEb,KAAnB;AACA,KAHD;AAIA;AACA,QAAIc,cAAc,EAAlB;AACAzB,YAAQG,MAAM,CAAd;AACA,QAAIK,SAAQ,CAAZ;AACA,SAAKM,GAAL,IAAY9E,KAAKsF,QAAjB,EAA2B;AAC1B,UAAK,IAAII,IAAT,IAAiB1F,KAAK6D,OAAtB,EAA+B;AAC9B,UAAI7D,KAAK6D,OAAL,CAAa6B,IAAb,EAAmBvE,UAAnB,KAAkCnB,KAAKsF,QAAL,CAAcR,GAAd,EAAmBJ,KAArD,IAA8D1E,KAAK6D,OAAL,CAAa6B,IAAb,EAAmBvE,UAAnB,KAAkC,OAApG,EAA6G;AAC5G,WAAIwE,OAAO3F,KAAK6D,OAAL,CAAa6B,IAAb,CAAX;AACAC,YAAK3B,KAAL,GAAcyB,YAAYjB,SAAQ,CAApB,CAAD,GAA2BiB,YAAYjB,SAAQ,CAApB,EAAuBL,GAAlD,GAAwDH,KAArE;AACA2B,YAAKxB,GAAL,GAAWwB,KAAK3B,KAAL,GAAa2B,KAAKR,WAA7B;AACAM,mBAAYrB,IAAZ,CAAiBuB,IAAjB;AACA3B,eAAQ2B,KAAKxB,GAAb;AACAK,iBAAS,CAAT;AACA,OAPD,MAOO,IAAIxE,KAAK6D,OAAL,CAAa6B,IAAb,EAAmBvE,UAAnB,KAAkCnB,KAAKsF,QAAL,CAAcR,GAAd,EAAmBJ,KAArD,IAA8D1E,KAAK6D,OAAL,CAAa6B,IAAb,EAAmBvE,UAAnB,KAAkC,OAApG,EAA6G;AACnH,WAAIwE,QAAO3F,KAAK6D,OAAL,CAAa6B,IAAb,CAAX;AACAD,mBAAYrB,IAAZ,CAAiBuB,KAAjB;AACA;AACD;AACD;AACD3F,SAAK6D,OAAL,GAAe4B,WAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKX,GAAL,IAAY9E,KAAKsF,QAAjB,EAA2B;AAC1BR,WAAME,SAASF,GAAT,CAAN;AACA,SAAIA,QAAQ,CAAZ,EAAe;AACd9E,WAAKsF,QAAL,CAAcR,GAAd,EAAmBd,KAAnB,GAA2B,CAA3B;AACAhE,WAAKsF,QAAL,CAAcR,GAAd,EAAmBX,GAAnB,GAAyBnE,KAAKsF,QAAL,CAAcR,GAAd,EAAmBH,KAA5C;AACA,MAHD,MAGO,IAAIG,OAAO9E,KAAKsF,QAAL,CAAcR,GAAd,EAAmBJ,KAAnB,KAA2B,OAAtC,EAA+C;AACrD1E,WAAKsF,QAAL,CAAcR,GAAd,EAAmBd,KAAnB,GAA2BhE,KAAKsF,QAAL,CAAcR,MAAI,CAAlB,EAAqBX,GAAhD;AACAnE,WAAKsF,QAAL,CAAcR,GAAd,EAAmBX,GAAnB,GAAyBnE,KAAKsF,QAAL,CAAcR,GAAd,EAAmBd,KAAnB,GAA2BhE,KAAKsF,QAAL,CAAcR,GAAd,EAAmBH,KAAvE;AACA;AACD;AACD;AACA;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA3E,QAAK4F,GAAL;AACA5F,QAAK4F,GAAL,4BACe5F,KAAKG,EADpB,yCAEeH,KAAKG,EAFpB,iJAMeH,KAAKG,EANpB,gEAOwBH,KAAKoC,GAAL,CAASI,UAPjC,+CASexC,KAAKG,EATpB,kEAU6BH,KAAKiD,IAAL,CAAUC,IAVvC;AAaA,OAAIpF,QAAMkC,KAAKG,EAAX,WAAqB4D,MAAzB,EAAiC;AAAE;AAClCjG,YAAMkC,KAAKG,EAAX,WAAqB0F,MAArB;AACA;AACD,OAAIC,SAAS,EAAb;AACA,QAAK,IAAIhB,IAAT,IAAgB,oBAAKrB,MAArB,EAA6B;AAC5BqC,yDAAmD9F,KAAKiD,IAAL,CAAUC,IAA7D,kBAA8E4B,IAA9E,uBAAmG,oBAAKrB,MAAL,CAAYqB,IAAZ,EAAiBR,WAApH,mDAA6K,oBAAKb,MAAL,CAAYqB,IAAZ,EAAiBvC,KAA9L,gBAA8M,oBAAKkB,MAAL,CAAYqB,IAAZ,EAAiBJ,KAA/N;AACA;AACD;AACA1E,QAAK+F,QAAL,mCACuB/F,KAAKG,EAD5B,6IAGsC2F,MAHtC;AAMAhI,qBAAgBkC,KAAKG,EAArB,aAAiC6F,IAAjC,CAAsChG,KAAK4F,GAA3C,EAAgDK,QAAhD,CAAyD,MAAzD;AACAnG,YAASkG,IAAT,CAAchG,KAAK+F,QAAnB;;AAEA;;;AAGAjI,WAAMkC,KAAKG,EAAX,qBAA+B+F,EAA/B,CAAkC,OAAlC,EAA2C,UAACC,CAAD,EAAO;AACjD,QAAI7B,cAAcU,SAASmB,EAAEC,MAAF,CAASC,UAAT,CAAoBC,WAApB,CAAgC/G,KAAzC,CAAlB;AACA,QAAIuF,MAAMqB,EAAEC,MAAF,CAASC,UAAT,CAAoBvB,GAApB,CAAwBvF,KAAlC;AACAS,SAAK2B,IAAL,CAAU4B,UAAV,CAAqBgD,YAArB,CAAkC,CAAlC,EAAqC,CAACjC,WAAD,CAArC,EAAoD,IAApD;AACA,QAAI,oBAAKX,cAAL,CAAoBoB,QAApB,CAA6BD,GAA7B,CAAJ,EAAuC;AACtC,yBAAKnB,cAAL,CAAoB6C,MAApB,CAA2B,oBAAK7C,cAAL,CAAoB8C,OAApB,CAA4B3B,GAA5B,CAA3B,EAA6D,CAA7D;AACA,KAFD,MAEO;AACN,yBAAKnB,cAAL,CAAoBS,IAApB,CAAyBU,GAAzB;AACA;AACW,IATb;;AAWA;;;AAGA,OAAI/D,QAASiE,SAAShF,KAAKoC,GAAL,CAASrB,KAAlB,KAA6Bf,KAAKoC,GAAL,CAASrB,KAAT,GAAiBf,KAAKoD,SAAtB,GAAkCpD,KAAKe,KAArE,GAA+Ef,KAAKoC,GAAL,CAASrB,KAAT,GAAiBf,KAAKoD,SAArG,GAAiHpD,KAAKe,KAAL,GAAaf,KAAK4B,MAAL,CAAYI,IAAzB,GAAgChC,KAAK4B,MAAL,CAAYE,KAAzK;AAAA,OACChB,SAASd,KAAKc,MAAL,GAAcd,KAAK4B,MAAL,CAAYC,GAA1B,GAAgC7B,KAAK4B,MAAL,CAAYG,MADtD;AAAA,OAECM,UAAU,GAFX;;AAIA;AACA;AACA;AACA,OAAIqE,IAAI3I,GAAG4I,SAAH,GACNC,UADM,CACK,CAAC,CAAD,EAAI7F,KAAJ,CADL,EAENsB,OAFM,CAEEA,OAFF,CAAR;AAGA,OAAIwE,IAAI9I,GAAG+I,WAAH,GACNC,KADM,CACA,CAACjG,MAAD,EAAS,CAAT,CADA,CAAR;AAEA,OAAIkG,OAAOjJ,GAAG+I,WAAH,GAAiBG,MAAjB,CAAwB,CAAC,CAAD,EAAI,CAAJ,CAAxB,EAAgCF,KAAhC,CAAsC,CAACjG,MAAD,EAAS,CAAT,CAAtC,CAAX,CA5akC,CA4a6B;AAC/D,OAAIoG,QAAQnJ,GAAGoJ,UAAH,CAAcT,CAAd,CAAZ;AACA,OAAIU,QAAQrJ,GAAGsJ,QAAH,CAAYR,CAAZ,CAAZ;AACAH,KAAEO,MAAF,CAASjH,KAAK6D,OAAL,CAAayD,GAAb,CAAiB,UAAU1G,CAAV,EAAa;AAAE,WAAOA,EAAEO,UAAT;AAAsB,IAAtD,CAAT;AACA;AACA;AACA0F,KAAEI,MAAF,CAAS,CAAC,CAAD,EAAIlJ,GAAGe,GAAH,CAAOkB,KAAK6D,OAAZ,EAAqB,UAAUjD,CAAV,EAAa;AAAE,WAAOA,EAAEuD,GAAT;AAAe,IAAnD,CAAJ,CAAT;AACA;AACA,OAAIoD,QAAQxJ,GAAGyJ,MAAH,OAAcxH,KAAKG,EAAnB,sBAAwCsH,MAAxC,CAA+C,KAA/C,EACVC,IADU,CACL,OADK,EACI3G,QAAQf,KAAK4B,MAAL,CAAYI,IAApB,GAA2BhC,KAAK4B,MAAL,CAAYE,KAD3C,EAEV4F,IAFU,CAEL,QAFK,EAEK5G,SAASd,KAAK4B,MAAL,CAAYC,GAArB,GAA4B7B,KAAK4B,MAAL,CAAYG,MAAZ,GAAqB,CAFtD,EAGV0F,MAHU,CAGH,GAHG,EAIVC,IAJU,CAIL,WAJK,EAIQ,eAAe1H,KAAK4B,MAAL,CAAYI,IAA3B,GAAkC,GAAlC,GAAwChC,KAAK4B,MAAL,CAAYC,GAApD,GAA0D,GAJlE,CAAZ;AAKA0F,SAAME,MAAN,CAAa,GAAb,EACEC,IADF,CACO,OADP,EACgB,QADhB,EAEEA,IAFF,CAEO,WAFP,EAEoB,iBAAiB5G,MAAjB,GAA0B,GAF9C,EAGE6G,IAHF,CAGOT,KAHP,EAIEU,SAJF,CAIY,MAJZ;AAKAL,SAAME,MAAN,CAAa,GAAb,EACEC,IADF,CACO,OADP,EACgB,QADhB,EAEEC,IAFF,CAEOP,MACJS,UADI,CACO,UAAUjH,CAAV,EAAa;AACxB,WAAO,oBAAKkH,WAAL,CAAiB9H,IAAjB,EAAuBY,CAAvB,CAAP;AACA,IAHI,CAFP;AAMA2G,SAAMK,SAAN,CAAgB,MAAhB,EACErH,IADF,CACOP,KAAK6D,OADZ,EAEEkE,KAFF,GAEUN,MAFV,CAEiB,MAFjB,EAGEC,IAHF,CAGO,QAHP,EAGiB,CAHjB;AAIC;AACA;AACA;AAND,IAOEA,IAPF,CAOO,OAPP,EAOgB,UAAU9G,CAAV,EAAa;AAAE,WAAO,SAASA,EAAEoH,KAAlB;AAAyB,IAPxD,EAQEN,IARF,CAQO,GARP,EAQY,UAAU9G,CAAV,EAAa;AAAE,WAAO8F,EAAE9F,EAAEO,UAAJ,CAAP;AAAyB,IARpD,EASEuG,IATF,CASO,OATP,EASgBhB,EAAEuB,SAAF,EAThB;AAUC;AACA;AAXD,IAYEP,IAZF,CAYO,GAZP,EAYY,UAAU9G,CAAV,EAAa;AAAE,WAAOiG,EAAEqB,KAAKpJ,GAAL,CAAS8B,EAAEoD,KAAX,EAAkBpD,EAAEuD,GAApB,CAAF,CAAP;AAAqC,IAZhE,EAaEuD,IAbF,CAaO,QAbP,EAaiB,UAAU9G,CAAV,EAAa;AAAE,WAAOsH,KAAKC,GAAL,CAAStB,EAAEjG,EAAEoD,KAAJ,IAAa6C,EAAEjG,EAAEuD,GAAJ,CAAtB,CAAP;AAAyC,IAbzE,EAcEuD,IAdF,CAcO,OAdP,EAcgB,UAAU9G,CAAV,EAAa;AAAE,qBAAe,oBAAK6C,MAAL,CAAY7C,EAAEU,UAAd,EAA0BiB,KAAzC;AAAoD,IAdnF,EAeE2D,EAfF,CAeK,WAfL,EAekB,UAAUtF,CAAV,EAAa;AAC7B,QAAIZ,KAAKmD,OAAL,CAAaN,OAAjB,EAA0B;AACzBS,SACE0C,IADF,CACO,oBAAK7C,OAAL,CAAa6C,IAAb,CAAkBpF,CAAlB,EAAqBZ,IAArB,CADP;AAEC;AACA;AAHD,MAIEoI,KAJF,CAIQ,MAJR,EAIgBrK,GAAGsK,KAAH,CAASC,KAAT,IAAkBxK,EAAE,UAAF,EAAciD,KAAd,KAAwB,CAAxB,GAA4B,CAA9C,IAAmD,IAJnE,EAKEqH,KALF,CAKQ,KALR,EAKerK,GAAGsK,KAAH,CAASE,KAAT,GAAiBzK,EAAE,UAAF,EAAcgD,MAAd,EAAjB,GAA0C,EAA1C,GAA+C,IAL9D,EAMEsH,KANF,CAMQ,SANR,EAMmB,cANnB;AAOA;AACD,IAzBF,EA0BElC,EA1BF,CA0BK,UA1BL,EA0BiB,YAAY;AAC3B5C,QAAI8E,KAAJ,CAAU,SAAV,EAAqB,MAArB;AACA,IA5BF,EA6BElC,EA7BF,CA6BK,OA7BL,EA6Bc,UAAUtF,CAAV,EAAa;AACzB,QAAIA,EAAEO,UAAF,KAAiB,OAArB,EAA8B;AAC7BnB,UAAK2B,IAAL,CAAU4B,UAAV,CAAqBgD,YAArB,CAAkC,CAAlC,EAAqC,CAAC3F,EAAE4H,YAAH,CAArC,EAAuD,IAAvD;AACA,SAAI,oBAAK7E,cAAL,CAAoBoB,QAApB,CAA6BnE,EAAEU,UAA/B,CAAJ,EAAgD;AAC/C,0BAAKqC,cAAL,CAAoB6C,MAApB,CAA2B,oBAAK7C,cAAL,CAAoB8C,OAApB,CAA4B7F,EAAEU,UAA9B,CAA3B,EAAsE,CAAtE;AACA,MAFD,MAEO;AACN,0BAAKqC,cAAL,CAAoBS,IAApB,CAAyBxD,EAAEU,UAA3B;AACA;AACD,KAPD,MAOO;AACNtB,UAAK2B,IAAL,CAAU4B,UAAV,CAAqBgD,YAArB,CAAkC,CAAlC,EAAqC,CAAC3F,EAAE4H,YAAH,CAArC,EAAuD,IAAvD;AACkB;AACnBlF,QAAI8E,KAAJ,CAAU,SAAV,EAAqB,MAArB;AACA,IAzCF;AA0CA;;AAEA;AACAb,SAAMK,SAAN,CAAgB,OAAhB,EACErH,IADF,CACOP,KAAKsF,QADZ,EAEEyC,KAFF,GAEUN,MAFV,CAEiB,MAFjB,EAGEW,KAHF,CAGQ,WAHR,UAIEV,IAJF,CAIO,aAJP,EAIsB,QAJtB,EAKEA,IALF,CAKO,GALP,EAKY,UAAU9G,CAAV,EAAa;AAAE,WAAO8F,EAAE9F,EAAE8D,KAAJ,IAAcgC,EAAEuB,SAAF,KAAgB,CAArC;AAA0C,IALrE,EAMEP,IANF,CAMO,GANP,EAMY,UAAU9G,CAAV,EAAa;AAAE,WAAOiG,EAAEjG,EAAEuD,GAAJ,IAAW,CAAlB;AAAsB,IANjD,EAOEsE,IAPF,CAOO,UAAU7H,CAAV,EAAa;AAAE,WAAO,oBAAKkH,WAAL,CAAiB9H,IAAjB,EAAuBY,EAAE+D,KAAzB,CAAP;AAAyC,IAP/D;;AASA;AACA4C,SAAMK,SAAN,CAAgB,OAAhB,EACErH,IADF,CACOP,KAAK6D,OADZ,EAEEkE,KAFF,GAGEpH,MAHF,CAGS,UAAUC,CAAV,EAAa;AAAE,WAAOA,EAAEO,UAAF,KAAiB,OAAxB;AAAiC,IAHzD,EAIEsG,MAJF,CAIS,MAJT,EAKEW,KALF,CAKQ,WALR,UAMEV,IANF,CAMO,aANP,EAMsB,QANtB,EAOEA,IAPF,CAOO,GAPP,EAOY,UAAU9G,CAAV,EAAa;AAAE,WAAO8F,EAAE9F,EAAEO,UAAJ,IAAmBuF,EAAEuB,SAAF,KAAgB,CAA1C;AAA+C,IAP1E,EAQEP,IARF,CAQO,GARP,EAQY,UAAU9G,CAAV,EAAa;AAAE,WAAOiG,EAAEjG,EAAEuD,GAAJ,IAAW,CAAC0C,EAAEjG,EAAEoD,KAAJ,IAAa6C,EAAEjG,EAAEuD,GAAJ,CAAd,IAA0B,CAArC,GAAyC,CAAhD;AAAoD,IAR/E,EASEuD,IATF,CASO,OATP,EASgB,UAAU9G,CAAV,EAAa;AAAE,qCAA+B,oBAAK6C,MAAL,CAAY7C,EAAEU,UAAd,EAA0BmB,SAAzD;AAAwE,IATvG;AAUC;AAVD,IAWEgG,IAXF,CAWO,UAAU7H,CAAV,EAAa;AAAE,WAAOA,EAAE8H,UAAT;AAAsB,IAX5C;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAnB,SAAMK,SAAN,CAAgB,eAAhB,EACE1B,EADF,CACK,OADL,EACc,UAAUtF,CAAV,EAAa;AACzBZ,SAAK2B,IAAL,CAAU4B,UAAV,CAAqBgD,YAArB,CAAkC,CAAlC,EAAqC,CAACvG,KAAKuE,QAAL,CAAc3D,CAAd,EAAiBL,IAAjB,CAAsB,CAAtB,EAAyBiI,YAA1B,CAArC,EAA8E,IAA9E;AACA,IAHF;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACAG,WAAQC,IAAR,SAAmB5I,KAAKM,IAAxB,SAAgCN,KAAKE,CAArC,SAA4C,YAA5C,EAA6DF,KAAKG,EAAlE;AACA,UAAOtC,KAAKgL,OAAL,CAAaC,OAAb,EAAP;AACA;AACD;AAvmBM,EAAP;AA0mBA,CAjnBF,E;;;;;;ACLA;AACA;;;AAGA;AACA,6DAA8D,uBAAuB,GAAG,8CAA8C,0BAA0B,wBAAwB,oBAAoB,GAAG,mCAAmC,0BAA0B,sBAAsB,gBAAgB,iBAAiB,GAAG,oCAAoC,eAAe,mBAAmB,wBAAwB,GAAG,8CAA8C,iBAAiB,wBAAwB,GAAG,mCAAmC,oBAAoB,GAAG,yCAAyC,kBAAkB,GAAG,wCAAwC,gBAAgB,0BAA0B,wBAAwB,GAAG,yCAAyC,0BAA0B,eAAe,GAAG,iFAAiF,eAAe,sBAAsB,gCAAgC,GAAG,sCAAsC,iBAAiB,GAAG,4CAA4C,oBAAoB,GAAG,2BAA2B,uBAAuB,oBAAoB,iBAAiB,iCAAiC,mBAAmB,8BAA8B,mDAAmD,2BAA2B,4CAA4C,qBAAqB,uBAAuB,qBAAqB,mCAAmC,2CAA2C,kBAAkB,yDAAyD,iDAAiD,8CAA8C,yCAAyC,GAAG,uBAAuB,sBAAsB,oBAAoB,mBAAmB,GAAG,qBAAqB,mBAAmB,GAAG,iBAAiB,gBAAgB,iBAAiB,0BAA0B,sBAAsB,8BAA8B,GAAG,oCAAoC,cAAc,cAAc,8BAA8B,mBAAmB,cAAc,aAAa,uBAAuB,yBAAyB,GAAG,kBAAkB,yCAAyC,8BAA8B,uBAAuB,uBAAuB,GAAG,mBAAmB,yCAAyC,8BAA8B,uBAAuB,uBAAuB,GAAG,0BAA0B,0BAA0B,kBAAkB,gBAAgB,2BAA2B,GAAG,kCAAkC,0BAA0B,kBAAkB,gCAAgC,wBAAwB,wCAAwC,gCAAgC,GAAG,kDAAkD,mBAAmB,2BAA2B,sBAAsB,mBAAmB,wBAAwB,oBAAoB,sBAAsB,GAAG,iDAAiD,mBAAmB,2BAA2B,sBAAsB,mBAAmB,GAAG,iDAAiD,mBAAmB,2BAA2B,sBAAsB,mBAAmB,sBAAsB,sBAAsB,GAAG,+CAA+C,qBAAqB,GAAG,wBAAwB,oCAAoC,GAAG,yBAAyB,qBAAqB,GAAG,4BAA4B,wBAAwB,GAAG;;AAEr/G;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;AC3EA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;ACtXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;;ACxFA;;;AAGA,IAAMC,OAAO;AACZ3F,YAAW,CADC;AAEZK,SAAQ,EAFI;AAGZC,gBAAe,KAHH;AAIZC,iBAAgB,EAJJ;AAKZR,UAAS;AACRzB,WAAS,iBAAC3D,EAAD,EAAQ;AAChB,OAAI2D,UAAU,IAAd;AACA;AACA,OAAI,CAAC5D,EAAE,UAAF,EAAciG,MAAnB,EAA2B;AAC1BrC,cAAU3D,GAAGyJ,MAAH,CAAU,MAAV,EAAkBC,MAAlB,CAAyB,KAAzB,EAAgCC,IAAhC,CAAqC,OAArC,EAA8C,SAA9C,CAAV;AACA,IAFD,MAEO;AACNhG,cAAU3D,GAAGyJ,MAAH,CAAU,UAAV,CAAV;AACA9F,YAAQ0G,KAAR,CAAc,SAAd,EAAyB,MAAzB;AACA;AACD,UAAO1G,OAAP;AACA,GAXO;AAYRsE,QAAM,cAACpF,CAAD,EAAIZ,IAAJ,EAAa;AAClB,OAAIgG,oIAE+DhG,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BuD,KAF3F,+BAAJ;AAIA,QAAK,IAAII,GAAT,IAAgB9E,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BZ,IAA5C,EAAkD;AACjDyF,8MAGoE+C,KAAKtF,MAAL,CAAYzD,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BZ,IAA5B,CAAiCuE,GAAjC,EAAsCxD,UAAlD,EAA8DiB,KAHlI,+CAI0BvC,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BZ,IAA5B,CAAiCuE,GAAjC,EAAsCxD,UAJhE,gGAMiDyH,KAAKjB,WAAL,CAAiB9H,IAAjB,EAAuBA,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BZ,IAA5B,CAAiCuE,GAAjC,EAAsCK,WAA7D,CANjD;AASA;AACDa,4MAGkD+C,KAAKjB,WAAL,CAAiB9H,IAAjB,EAAuBA,KAAKuE,QAAL,CAAc3D,EAAEO,UAAhB,EAA4BwD,KAAnD,CAHlD;;AAQA,UAAOqB,IAAP;AACA;AArCO,EALG;AA4CZ;AACA8B,cAAa,qBAAC9H,IAAD,EAAOgJ,GAAP,EAAYC,WAAZ,EAA4B;AACxC;AACA,MAAI,YAAYC,IAAZ,CAAiBF,GAAjB,CAAJ,EAA2B;AAC1BA,SAAOhJ,KAAKiC,SAAL,IAAkB,CAACgH,WAApB,GAAmC7D,WAAW4D,GAAX,EAAgB3D,OAAhB,CAAwB,CAAxB,CAAnC,GAAgE6C,KAAKiB,KAAL,CAAWH,GAAX,CAAtE;AACA,OAAIA,OAAO,IAAP,IAAeA,MAAM,OAAzB,EAAkC;AACjCA,UAAOhJ,KAAKiC,SAAL,IAAkB,CAACgH,WAApB,GAAmC7D,WAAW4D,MAAM,IAAjB,EAAuB3D,OAAvB,CAA+B,CAA/B,CAAnC,GAAuE6C,KAAKiB,KAAL,CAAWH,MAAM,IAAjB,CAA7E;AACA,QAAI,QAAQE,IAAR,CAAaF,GAAb,CAAJ,EAAuB;AACtBA,WAAMA,IAAII,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN,CADsB,CACU;AAChC;AACDJ,WAAO,GAAP,CALiC,CAKrB;AACZ,IAND,MAMO,IAAIA,OAAO,OAAP,IAAkBA,MAAM,UAA5B,EAAwC;AAC9CA,UAAOhJ,KAAKiC,SAAL,IAAkB,CAACgH,WAApB,GAAmC7D,WAAW4D,MAAM,OAAjB,EAA0B3D,OAA1B,CAAkC,CAAlC,CAAnC,GAA0E6C,KAAKiB,KAAL,CAAWH,MAAM,OAAjB,CAAhF;AACA,QAAI,QAAQE,IAAR,CAAaF,GAAb,CAAJ,EAAuB;AACtBA,WAAMA,IAAII,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN,CADsB,CACU;AAChC;AACDJ,WAAO,GAAP,CAL8C,CAKlC;AACZ,IANM,MAMA,IAAIA,OAAO,UAAP,IAAqBA,MAAM,aAA/B,EAA8C;AACpDA,UAAOhJ,KAAKiC,SAAL,IAAkB,CAACgH,WAApB,GAAmC7D,WAAW4D,MAAM,UAAjB,EAA6B3D,OAA7B,CAAqC,CAArC,CAAnC,GAA6E6C,KAAKiB,KAAL,CAAWH,MAAM,UAAjB,CAAnF;AACA,QAAI,QAAQE,IAAR,CAAaF,GAAb,CAAJ,EAAuB;AACtBA,WAAMA,IAAII,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN,CADsB,CACU;AAChC;AACDJ,WAAO,GAAP,CALoD,CAKxC;AACZ;AACA,IAPM,MAOA,IAAIA,OAAO,aAAX,EAA0B;AAChCA,UAAOhJ,KAAKiC,SAAL,IAAkB,CAACgH,WAApB,GAAmC7D,WAAW4D,MAAM,aAAjB,EAAgC3D,OAAhC,CAAwC,CAAxC,CAAnC,GAAgF6C,KAAKiB,KAAL,CAAWH,MAAM,aAAjB,CAAtF;AACA,QAAI,QAAQE,IAAR,CAAaF,GAAb,CAAJ,EAAuB;AACtBA,WAAMA,IAAII,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN,CADsB,CACU;AAChC;AACDJ,WAAO,GAAP,CALgC,CAKpB;AACZ;AACA;AACD,OAAIhJ,KAAKqJ,MAAL,IAAerJ,KAAKqJ,MAAL,CAAYxG,OAA/B,EAAwC;AACvC,QAAI7C,KAAKqJ,MAAL,CAAYC,IAAZ,KAAqB,GAArB,IAA4BtJ,KAAKqJ,MAAL,CAAYC,IAAZ,KAAqB,GAArD,EAA0D;AACzDN,WAAMhJ,KAAKqJ,MAAL,CAAYC,IAAZ,GAAmBN,GAAzB;AACA,KAFD,MAEO,IAAIhJ,KAAKqJ,MAAL,CAAYC,IAAZ,KAAqB,OAAzB,EAAkC;AACxC,SAAItJ,KAAKqJ,MAAL,CAAYE,aAAhB,EAA+B;AAC9BP,YAAMhJ,KAAKqJ,MAAL,CAAYG,KAAZ,GAAoB,GAApB,GAA0BR,GAAhC;AACA,MAFD,MAEO;AACNA,YAAMA,MAAM,GAAN,GAAYhJ,KAAKqJ,MAAL,CAAYG,KAA9B;AACA;AACD,KANM,MAMA;AACNxJ,UAAKqJ,MAAL,CAAYC,IAAZ;AACA;AACD;AACD;AACD,SAAON,GAAP;AACA;AA3FW,CAAb;;kBA8FeD,I","file":"SenseUI-WaterfallStackedBarchart.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d92ccbe5abb016e9aa22","\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.less\n// module id = 1\n// module chunks = 0","import css from './index.less';\nimport util from './utilities';\n\nconst define = (window && window.define) || define;\n\ndefine([\n\t'qlik',\n\t'jquery',\n\t'./d3.min'\n],\n\tfunction (qlik, $, d3) {\n\t\t\"use strict\";\n\t\treturn {\n\t\t\tinitialProperties: {\n\t\t\t\tqHyperCubeDef: {\n\t\t\t\t\tqDimensions: [],\n\t\t\t\t\tqMeasures: [],\n\t\t\t\t\tqInitialDataFetch: [{\n\t\t\t\t\t\tqWidth: 3,\n\t\t\t\t\t\tqHeight: 500\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefinition: {\n\t\t\t\ttype: \"items\",\n\t\t\t\tcomponent: \"accordion\",\n\t\t\t\titems: {\n\t\t\t\t\t// data : {\n\t\t\t\t\t//     uses: \"data\",\n\t\t\t\t\t//     min: 2,\n\t\t\t\t\t//     max: 6\n\t\t\t\t\t// },                    \n\t\t\t\t\tdimensions: {\n\t\t\t\t\t\tuses: \"dimensions\",\n\t\t\t\t\t\tmin: 2,\n\t\t\t\t\t\tmax: 2\n\t\t\t\t\t},\n\t\t\t\t\tmeasures: {\n\t\t\t\t\t\tuses: \"measures\",\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 1\n\t\t\t\t\t},\n\t\t\t\t\tsorting: {\n\t\t\t\t\t\tuses: \"sorting\"\n\t\t\t\t\t},\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tuses: \"settings\",\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\tgeneral: {\n\t\t\t\t\t\t\t\ttype: \"items\",\n\t\t\t\t\t\t\t\tlabel: \"General\",\n\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\t\t\t\t\tcomponent: \"switch\",\n\t\t\t\t\t\t\t\t\t\tlabel: \"Sort Dimension (Desc)\",\n\t\t\t\t\t\t\t\t\t\tref: \"vars.sort\",\n\t\t\t\t\t\t\t\t\t\toptions: [{\n\t\t\t\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\t\t\t\tlabel: \"Sort\"\n\t\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\t\t\t\tlabel: \"Do not Sort\"\n\t\t\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\t\t\tdefaultValue: true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tsupport: {\n\t\t\t\tsnapshot: true,\n\t\t\t\texport: true,\n\t\t\t\texportData: true\n\t\t\t},\n\t\t\tpaint: function ($element, layout) {\n\t\t\t\tvar vars = $.extend(true, {\n\t\t\t\t\tv: '1.0.1',\n\t\t\t\t\tid: layout.qInfo.qId,\n\t\t\t\t\tname: 'SUI-StackedBarParetto',\n\t\t\t\t\tdata: layout.qHyperCube.qDataPages[0].qMatrix.filter(d => !d[0].qIsNull),\n\t\t\t\t\theight: $element.height(),\n\t\t\t\t\twidth: $element.width(),\n\t\t\t\t\ttotalColumns: layout.qHyperCube.qSize.qcx,\n\t\t\t\t\tdimension1: {\n\t\t\t\t\t\tlabel: layout.qHyperCube.qDimensionInfo[0].qFallbackTitle\n\t\t\t\t\t},\n\t\t\t\t\tdimension2: {\n\t\t\t\t\t\tlabel: layout.qHyperCube.qDimensionInfo[1].qFallbackTitle\n\t\t\t\t\t},\n\t\t\t\t\tmeasure1: {\n\t\t\t\t\t\tlabel: layout.qHyperCube.qMeasureInfo[0].qFallbackTitle,\n\t\t\t\t\t},\n\t\t\t\t\tselected: [],\n\t\t\t\t\telement: $element,\n\t\t\t\t\tlayout: layout,\n\t\t\t\t\tthis: this,\n\t\t\t\t\tmargin: { top: 20, right: 20, bottom: 50, left: 60 },\n\t\t\t\t\tprecision: true,\n\t\t\t\t\tpalette: ['#332288', '#88CCEE', '#117733', '#DDCC77', '#CC6677', '#3399CC', '#99CC66', '#275378', '#B35A01', '#B974FD', '#993300', '#99CCCC', '#669933', '#898989', '#EDA1A1', '#C6E2A9', '#D4B881', '#137D77', '#D7C2EC', '#FF5500', '#15DFDF', '#93A77E', '#CB5090', '#BFBFBF'],\n\t\t\t\t\tpaletteText: ['#FFFFFF', '#000000', '#FFFFFF', '#000000', '#000000', '#000000', '#000000', '#FFFFFF', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000'],\n\t\t\t\t\tbar: {\n\t\t\t\t\t\theight: 20,\n\t\t\t\t\t\tpadding: 3,\n\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\tcolor: ['#4477AA'],\n\t\t\t\t\t\tcolorHover: '#77b62a',\n\t\t\t\t\t\ttextColor: ['#000000'],\n\t\t\t\t\t\ttextHoverColor: ['#000000'],\n\t\t\t\t\t\tborderColor: '#404040',\n\t\t\t\t\t\tborderColorHover: '#77b62a'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tvisible: 1,\n\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t\tcharacters: 50,\n\t\t\t\t\t\trightPadding: 50,\n\t\t\t\t\t\tpadding: 15,\n\t\t\t\t\t\tminWidth: 100\n\t\t\t\t\t},\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tsize: 10,\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\tvisible: 1\n\t\t\t\t\t}\n\t\t\t\t}, layout.vars);\n\t\t\t\tutil.totalRows = (util.totalRows) ? util.totalRows : layout.qHyperCube.qSize.qcy;\n\t\t\t\tconst tip = util.tooltip.element(d3);\n\t\t\t\t// If all selections are cleared from the toolbar, then clear selected in the extension\n\t\t\t\tif (!vars.this.backendApi.hasSelections()) {\n\t\t\t\t\tutil.labels = {};\n\t\t\t\t\tutil.labelsCreated = false;\n\t\t\t\t\tutil.selectedLabels = [];\n\t\t\t\t}\n\t\t\t\t/*****************\n\t\t\t\t* DATA\n\t\t\t\t*****************/\n\t\t\t\tvar cumulative = 0;\n\t\t\t\t// vars.dataRef = vars.data.map(function (value, index) {\n\t\t\t\t//     var start = cumulative;\n\t\t\t\t//     cumulative += value[2].qNum;\n\t\t\t\t//     var end = cumulative;\n\t\t\t\t//     return {\n\t\t\t\t//         \"dimension1\": value[0].qText,\n\t\t\t\t//         \"dimension2\": value[1].qText,\n\t\t\t\t//         \"measure1\": value[2].qText,\n\t\t\t\t//         \"measure1Num\": value[2].qNum,\n\t\t\t\t//         \"qElemNumber1\": value[0].qElemNumber1,\n\t\t\t\t//         \"start\": start,\n\t\t\t\t//         \"end\": end,\n\t\t\t\t//         \"class\": ( value[1].qNum >= 0 ) ? 'positive' : 'negative'\n\t\t\t\t//     }\n\t\t\t\t// });\n\t\t\t\t// cumulative = cumulative / 2; // @TODO sWhy divide by 2? Bug somewhere?\n\t\t\t\tvars.dataRef = [];\n\t\t\t\tfor (var i = 0; i < vars.data.length; i++) {\n\t\t\t\t\tvar start = cumulative;\n\t\t\t\t\tcumulative += vars.data[i][2].qNum;\n\t\t\t\t\tvar cumulativeAmount = (i > 0) ? vars.data[i][2].qNum + vars.dataRef[i - 1].cumulativeAmount : cumulative;\n\t\t\t\t\tvar end = cumulative;\n\t\t\t\t\tvars.dataRef.push({\n\t\t\t\t\t\t\"dimension1\": vars.data[i][0].qText,\n\t\t\t\t\t\t\"dimension2\": vars.data[i][1].qText,\n\t\t\t\t\t\t\"measure1\": vars.data[i][2].qText,\n\t\t\t\t\t\t\"measure1Num\": vars.data[i][2].qNum,\n\t\t\t\t\t\t\"qElemNumber1\": vars.data[i][0].qElemNumber,\n\t\t\t\t\t\t\"start\": start,\n\t\t\t\t\t\t\"end\": end,\n\t\t\t\t\t\t// \"cumulativeAmount\": cumulativeAmount,\n\t\t\t\t\t\t// \"class\": (vars.data[i][1].qNum >= 0) ? 'positive' : 'negative'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// for (i = 0; i < vars.dataRef.length; i++) {\n\t\t\t\t// \tvars.dataRef[i]['cumulativePercentage'] = parseFloat((vars.dataRef[i].cumulativeAmount / cumulative).toFixed(2));\n\t\t\t\t// }\n\t\t\t\tvars.dataRef2 = [];\n\t\t\t\tvar index = 0\n\t\t\t\tcumulative = 0\n\t\t\t\tvar totalDimension1 = 0;\n\t\t\t\tfor (i = 0; i < vars.data.length; i++) {\n\t\t\t\t\tif (!vars.dataRef2[vars.data[i][0].qText]) {\n\t\t\t\t\t\tvars.dataRef2[vars.data[i][0].qText] = {\n\t\t\t\t\t\t\ttitle: vars.data[i][0].qText,\n\t\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\t\ttotal: 0,\n\t\t\t\t\t\t\tamount: 0,\n\t\t\t\t\t\t\tcumulativeAmount: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\ttotalDimension1 += 1;\n\t\t\t\t\t}\n\t\t\t\t\tstart = cumulative;\n\t\t\t\t\tcumulative += vars.data[i][2].qNum;\n\t\t\t\t\t// vars.dataRef2[vars.data[i][0].qText].cumulativeAmount = (i > 0) ? vars.data[i][2].qNum + vars.dataRef2[i-1].cumulativeAmount : cumulative ;\n\t\t\t\t\t// vars.dataRef2[vars.data[i][0].qText].cumulativeAmount\n\t\t\t\t\tend = cumulative;\n\t\t\t\t\t// vars.dataRef2[vars.data[i][0].qText].total += end; //vars.data[i][2].qNum;\n\t\t\t\t\tvars.dataRef2[vars.data[i][0].qText].data.push({\n\t\t\t\t\t\t\"dimension1\": vars.data[i][0].qText,\n\t\t\t\t\t\t\"dimension2\": vars.data[i][1].qText,\n\t\t\t\t\t\t\"measure1\": vars.data[i][2].qText,\n\t\t\t\t\t\t\"measure1Num\": vars.data[i][2].qNum,\n\t\t\t\t\t\t\"qElemNumber1\": vars.data[i][0].qElemNumber,\n\t\t\t\t\t\t\"qElemNumber2\": vars.data[i][1].qElemNumber,\n\t\t\t\t\t\t\"start\": start,\n\t\t\t\t\t\t\"end\": end,\n\t\t\t\t\t\t\"class\": (vars.data[i][1].qNum >= 0) ? 'positive' : 'negative'\n\t\t\t\t\t})\n\t\t\t\t\t// vars.dataRef2[vars.data[i][0].qText].total += vars.data[i][2].qNum;\n\t\t\t\t\t// if (vars.dataRef2[i] && (!vars.dataRef2[i].title || vars.dataRef2[i].title!==vars.data[i][0].qText)) {\n\t\t\t\t\t//     vars.dataRef2[i].push({\n\t\t\t\t\t//         title: vars.data[i][0].qText,\n\t\t\t\t\t//         total: 0\n\t\t\t\t\t//     })\n\t\t\t\t\t// } else if (vars.dataRef2[i] && !vars.dataRef2[i].title===vars.data[i][0].qText) {\n\t\t\t\t\t//     vars.dataRef2[i].total += vars.data[i][2].qNum;\n\t\t\t\t\t// }\n\t\t\t\t\t// Create a new array with just the totals for each category (xaxis / dimension1)\n\t\t\t\t\t// if (vars.dataRef2.length) {\n\t\t\t\t\t//     for (var j = 0; j < vars.dataRef2.length; j++) {\n\t\t\t\t\t//         if (vars.dataRef2[j] && vars.dataRef2[j].title === vars.data[i][0].qText) {\n\t\t\t\t\t//             vars.dataRef2[j].total += vars.data[i][2].qNum\n\t\t\t\t\t//         } else {\n\t\t\t\t\t//             vars.dataRef2.push({\n\t\t\t\t\t//                 title: vars.data[i][0].qText,\n\t\t\t\t\t//                 total: 0\n\t\t\t\t\t//             })\n\t\t\t\t\t//         }\n\t\t\t\t\t//     }\n\t\t\t\t\t// } else {\n\t\t\t\t\t//     vars.dataRef2.push({\n\t\t\t\t\t//         title: vars.data[i][0].qText,\n\t\t\t\t\t//         total: 0\n\t\t\t\t\t//     })\n\t\t\t\t\t// }\n\t\t\t\t\t// Do the labels\n\t\t\t\t\tif (!util.labelsCreated) {\n\t\t\t\t\t\tif (!util.labels[vars.data[i][1].qText]) {\n\t\t\t\t\t\t\tutil.labels[vars.data[i][1].qText] = {\n\t\t\t\t\t\t\t\ttitle: vars.data[i][1].qText,\n\t\t\t\t\t\t\t\tqElemNumber: vars.data[i][1].qElemNumber,\n\t\t\t\t\t\t\t\tcolor: vars.palette[index],\n\t\t\t\t\t\t\t\ttextColor: vars.paletteText[index],\n\t\t\t\t\t\t\t\ttotal: vars.data[i][2].qNum\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tutil.labels[vars.data[i][1].qText].total += vars.data[i][2].qNum;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Mark it as done so no redraw upon selections\n\t\t\t\tutil.labelsCreated = true;\n\t\t\t\t// Add the sum totals for each dimension2\n\t\t\t\tstart = 0;\n\t\t\t\tend = 0;\n\t\t\t\tvar grandTotal = vars.dataRef[vars.dataRef.length - 1].end;\n\t\t\t\t// vars.dataRef2[key]['totalPercentage'] = parseInt((vars.dataRef2[key].total / vars.dataRef2[vars.dataRef2.length-1].end) * 100) + '%';\n\t\t\t\tif (totalDimension1 > 1) {\n\t\t\t\t\tfor (var key in util.labels) {\n\t\t\t\t\t\tif (util.selectedLabels.length === 0 || util.selectedLabels.includes(key)) {\n\t\t\t\t\t\t\tend += util.labels[key].total\n\t\t\t\t\t\t\t// var percentage = parseInt((end / grandTotal) * 100) + '%';\n\t\t\t\t\t\t\tvars.dataRef.push({\n\t\t\t\t\t\t\t\t\"dimension1\": 'Total',\n\t\t\t\t\t\t\t\t\"dimension2\": key,\n\t\t\t\t\t\t\t\t\"measure1\": util.labels[key].total,\n\t\t\t\t\t\t\t\t\"measure1Num\": util.labels[key].total,\n\t\t\t\t\t\t\t\t\"start\": start,\n\t\t\t\t\t\t\t\t\"end\": end,\n\t\t\t\t\t\t\t\t\"qElemNumber1\": util.labels[key].qElemNumber,\n\t\t\t\t\t\t\t\t\"percentage\": parseInt((util.labels[key].total / grandTotal) * 100) + '%'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tstart = end;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// vars.dataRef2.Total = {\n\t\t\t\t\t//     \"dimension1\": 'Total',\n\t\t\t\t\t//     \"dimension2\": 'Total',\n\t\t\t\t\t//     \"measure1\": end,\n\t\t\t\t\t//     \"measure1Num\": end,\n\t\t\t\t\t//     \"start\": 0,\n\t\t\t\t\t//     \"end\": end,\n\t\t\t\t\t//     \"data\": []\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t\t// Add Pareto on the Sum of the bars\n\t\t\t\t// console.log(vars.dataRef2.length)\n\t\t\t\t// for (var i = 0; i < vars.dataRef2.length; i++) {\n\t\t\t\t//     console.log(11)\n\t\t\t\t//     console.log(vars.dataRef2[i])\n\t\t\t\t// }\n\n\t\t\t\t//typecast Amount to #, calculate total, and cumulative amounts\n\t\t\t\tvar totalAmount = 0;\n\t\t\t\tvar previousKey = null;\n\t\t\t\tfor (key in vars.dataRef2) {\n\t\t\t\t\tvars.dataRef2[key].start = totalAmount;\n\t\t\t\t\tfor (var value of vars.dataRef2[key].data) {\n\t\t\t\t\t\tvars.dataRef2[key].amount += value.measure1Num;\n\t\t\t\t\t\tvars.dataRef2[key].total += value.measure1Num;\n\t\t\t\t\t}\n\t\t\t\t\ttotalAmount += vars.dataRef2[key].amount;\n\t\t\t\t\tvars.dataRef2[key].end = totalAmount;\n\t\t\t\t\tif (previousKey) {\n\t\t\t\t\t\tvars.dataRef2[key].cumulativeAmount = vars.dataRef2[key].amount + vars.dataRef2[previousKey].cumulativeAmount;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvars.dataRef2[key].cumulativeAmount = vars.dataRef2[key].amount;\n\t\t\t\t\t}\n\t\t\t\t\tpreviousKey = key;\n\t\t\t\t}\n\t\t\t\t//now calculate cumulative % from the cumulative amounts & total, round %\n\t\t\t\tfor (key in vars.dataRef2) {\n\t\t\t\t\tvars.dataRef2[key]['cumulativePercentage'] = parseFloat((vars.dataRef2[key].cumulativeAmount / totalAmount).toFixed(2));\n\t\t\t\t}\n\t\t\t\t// Add the totals from dataRef, to dataRef2 & dataRef3 for the tooltips\n\t\t\t\tvars.dataRef2['Total'] = {\n\t\t\t\t\ttitle: 'Total',\n\t\t\t\t\tdata: [],\n\t\t\t\t\ttotal: 0,\n\t\t\t\t\tamount: 0,\n\t\t\t\t\tcumulativeAmount: 0\n\t\t\t\t};\n\t\t\t\tfor (i in vars.dataRef) {\n\t\t\t\t\tif (vars.dataRef[i].dimension1 === 'Total') {\n\t\t\t\t\t\tvars.dataRef2['Total'].data.push({\n\t\t\t\t\t\t\t\"dimension1\": vars.dataRef[i].dimension1,\n\t\t\t\t\t\t\t\"dimension2\": vars.dataRef[i].dimension2,\n\t\t\t\t\t\t\t\"measure1\": vars.dataRef[i].measure1,\n\t\t\t\t\t\t\t\"measure1Num\": vars.dataRef[i].measure1Num\n\t\t\t\t\t\t})\n\t\t\t\t\t\tvars.dataRef2['Total'].total += vars.dataRef[i].measure1Num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Dump the vars.dataRef2 into an array of objects so d3 can use\n\t\t\t\tvars.dataRef3 = [];\n\t\t\t\tfor (key in vars.dataRef2) {\n\t\t\t\t\tvars.dataRef3.push(vars.dataRef2[key])\n\t\t\t\t}\n\t\t\t\tif (vars.sort) {\n\t\t\t\t\t// Sort xaxis desc\n\t\t\t\t\tvars.dataRef3.sort(function (a, b) {\n\t\t\t\t\t\tif (a.title === 'Total' || b.title === 'Total') return -1\n\t\t\t\t\t\treturn a.total < b.total;\n\t\t\t\t\t});\n\t\t\t\t\t// Redefine the start & end points on the yaxis\n\t\t\t\t\tlet dataRefTemp = [];\n\t\t\t\t\tstart = end = 0;\n\t\t\t\t\tlet index = 1;\n\t\t\t\t\tfor (key in vars.dataRef3) {\n\t\t\t\t\t\tfor (let key2 in vars.dataRef) {\n\t\t\t\t\t\t\tif (vars.dataRef[key2].dimension1 === vars.dataRef3[key].title && vars.dataRef[key2].dimension1 !== 'Total') {\n\t\t\t\t\t\t\t\tlet temp = vars.dataRef[key2];\n\t\t\t\t\t\t\t\ttemp.start = (dataRefTemp[index - 1]) ? dataRefTemp[index - 1].end : start;\n\t\t\t\t\t\t\t\ttemp.end = temp.start + temp.measure1Num\n\t\t\t\t\t\t\t\tdataRefTemp.push(temp);\n\t\t\t\t\t\t\t\tstart = temp.end;\n\t\t\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t\t\t} else if (vars.dataRef[key2].dimension1 === vars.dataRef3[key].title && vars.dataRef[key2].dimension1 === 'Total') {\n\t\t\t\t\t\t\t\tlet temp = vars.dataRef[key2];\n\t\t\t\t\t\t\t\tdataRefTemp.push(temp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvars.dataRef = dataRefTemp;\n\t\t\t\t\t// Redefine end points for the bar labels\n\t\t\t\t\t// console.log(vars.dataRef3)\n\t\t\t\t\t// for (key in vars.dataRef3) {\n\t\t\t\t\t// \tkey = parseInt(key)\n\t\t\t\t\t// \tif (key === 0) {\n\t\t\t\t\t// \t\tvars.dataRef3[key].start = 0;\n\t\t\t\t\t// \t\tvars.dataRef3[key].end = vars.dataRef3[key].total;\n\t\t\t\t\t// \t} else {\n\t\t\t\t\t// \t\tvars.dataRef3[key].start = vars.dataRef3[key - 1].end;\n\t\t\t\t\t// \t\tvars.dataRef3[key].end = vars.dataRef3[key].start + vars.dataRef3[key].total;\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\n\t\t\t\t\t// Redefine end points for the bar labels\n\t\t\t\t\t// Add Pareto Analysis\n\t\t\t\t\t// let totalAmount = 0;\n\t\t\t\t\t// for (key in vars.dataRef3) {\n\t\t\t\t\t// \tkey = parseInt(key)\n\t\t\t\t\t// \tif (key === 0) {\n\t\t\t\t\t// \t\tvars.dataRef3[key].start = 0;\n\t\t\t\t\t// \t\tvars.dataRef3[key].end = vars.dataRef3[key].amount = vars.dataRef3[key].total;\n\t\t\t\t\t// \t\t// vars.dataRef3[key].cumulativeAmount = vars.dataRef3[key].total;\n\t\t\t\t\t// \t\tvars.dataRef3[key].cumulativeAmount = 0;\n\t\t\t\t\t// \t} else {\n\t\t\t\t\t// \t\tvars.dataRef3[key].start = vars.dataRef3[key - 1].end;\n\t\t\t\t\t// \t\tvars.dataRef3[key].end = vars.dataRef3[key].start + vars.dataRef3[key].total;\n\t\t\t\t\t// \t\tvars.dataRef3[key].amount += vars.dataRef3[key].total;\n\t\t\t\t\t// \t\tvars.dataRef3[key].cumulativeAmount = vars.dataRef3[key].total + vars.dataRef3[key - 1].cumulativeAmount;\n\t\t\t\t\t// \t}\n\t\t\t\t\t// \t// totalAmount += vars.dataRef3[key].total;\n\t\t\t\t\t// }\n\t\t\t\t\t// totalAmount = vars.dataRef[vars.dataRef.length-1].end\n\t\t\t\t\t// for (key in vars.dataRef3) {\n\t\t\t\t\t// \tkey = parseInt(key)\n\t\t\t\t\t// \tif (vars.dataRef3[key].title!=='Total') {\n\t\t\t\t\t// \t\tvars.dataRef3[key].cumulativePercentage = (vars.dataRef3[key].cumulativeAmount / totalAmount);\n\t\t\t\t\t// \t\tvars.dataRef3[key].cumulativePercentage = parseFloat(vars.dataRef3[key].cumulativePercentage.toFixed(2));\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t\t// Ok we did the pareto Analysis, now lets reset the start and end of the bars so they are placed on the line\n\t\t\t\t\t// for (key in vars.dataRef) {\n\t\t\t\t\t// \tkey = parseInt(key)\n\t\t\t\t\t// \t// console.log(vars.dataRef[key])\n\t\t\t\t\t// \tif (key && vars.dataRef[key].dimension1!==vars.dataRef[key-1].dimension1 && vars.dataRef[key].dimension1!=='Total') {\n\t\t\t\t\t// \t\tconsole.log(vars.dataRef[key].dimension1)\n\t\t\t\t\t// \t\tconsole.log(totalAmount)\n\t\t\t\t\t// \t\tconsole.log(totalAmount * vars.dataRef2[vars.dataRef[key].dimension1].cumulativePercentage)\n\t\t\t\t\t// \t\tvars.dataRef[key].start = totalAmount * vars.dataRef2[vars.dataRef[key].dimension1].cumulativePercentage;\n\t\t\t\t\t// \t\tvars.dataRef[key].end = vars.dataRef[key].start + vars.dataRef[key].measure1Num;\n\t\t\t\t\t// \t} else if (key && vars.dataRef[key].dimension1!=='Total') {\n\t\t\t\t\t// \t\tvars.dataRef[key].start = vars.dataRef[key-1].end;\n\t\t\t\t\t// \t\tvars.dataRef[key].end = vars.dataRef[key].start + vars.dataRef[key].measure1Num;\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t\tfor (key in vars.dataRef3) {\n\t\t\t\t\t\tkey = parseInt(key)\n\t\t\t\t\t\tif (key === 0) {\n\t\t\t\t\t\t\tvars.dataRef3[key].start = 0;\n\t\t\t\t\t\t\tvars.dataRef3[key].end = vars.dataRef3[key].total;\n\t\t\t\t\t\t} else if (key && vars.dataRef3[key].title!=='Total') {\n\t\t\t\t\t\t\tvars.dataRef3[key].start = vars.dataRef3[key-1].end;\n\t\t\t\t\t\t\tvars.dataRef3[key].end = vars.dataRef3[key].start + vars.dataRef3[key].total;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(vars.dataRef3)\n\t\t\t\t}\n\t\t\t\t//Create another one with the total so the Pareto Line will not use\n\t\t\t\t// vars.dataRef3withTotal = vars.dataRef3;\n\t\t\t\t// vars.dataRef3withTotal.push({\n\t\t\t\t//     title: \"Total\",\n\t\t\t\t//     total: totalAmount\n\t\t\t\t// })\n\n\n\t\t\t\t/*****************\n\t\t\t\t* CSS & HTML\n\t\t\t\t*****************/\n\t\t\t\t// Combine the css and inject\n\t\t\t\tvars.css = css;\n\t\t\t\tvars.css += `\n                #${vars.id}_inner .outer,\n                #${vars.id}_inner .content {\n                    overflow-x: auto;\n                    overflow-y: hidden;\n                }\t\n                #${vars.id}_inner .content .bar:hover {\n                    fill: ${vars.bar.colorHover};\n                }\n                #${vars.id}_inner .content .legend {\n                    font-size: ${vars.font.size}px;\n                }\n            `;\n\t\t\t\tif ($(`#${vars.id}_css`).length) { // insert only once\n\t\t\t\t\t$(`#${vars.id}_css`).remove();\n\t\t\t\t}\n\t\t\t\tvar legend = '';\n\t\t\t\tfor (let key in util.labels) {\n\t\t\t\t\tlegend += `<div class=\"column\" style=\"font-size: ${vars.font.size}px;\" key=\"${key}\" qelemnumber=\"${util.labels[key].qElemNumber}\"><div class=\"box\" style=\"background-color:${util.labels[key].color}\"></div>${util.labels[key].title}</div>`\n\t\t\t\t}\n\t\t\t\t// Insert the template for manipulation\n\t\t\t\tvars.template = `\n                <div id=\"${vars.id}_inner\" class=\"senseui-StackedBarParetto\">\n                    <div class=\"content\"></div>\n                    <div class=\"legend\">${legend}</div>\n                </div>\n            `;\n\t\t\t\t$(`<style id=\"${vars.id}_css\">`).html(vars.css).appendTo(\"head\")\n\t\t\t\t$element.html(vars.template)\n\n\t\t\t\t/*****************\n\t\t\t\t* UTILITIES\n\t\t\t\t*****************/\n\t\t\t\t$(`#${vars.id}_inner .column`).on('click', (e) => {\n\t\t\t\t\tvar qElemNumber = parseInt(e.target.attributes.qelemnumber.value);\n\t\t\t\t\tvar key = e.target.attributes.key.value;\n\t\t\t\t\tvars.this.backendApi.selectValues(1, [qElemNumber], true);\n\t\t\t\t\tif (util.selectedLabels.includes(key)) {\n\t\t\t\t\t\tutil.selectedLabels.splice(util.selectedLabels.indexOf(key), 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tutil.selectedLabels.push(key)\n\t\t\t\t\t}\n                })\n\n\t\t\t\t/*****************\n\t\t\t\t* D3\n\t\t\t\t*****************/\n\t\t\t\tlet width = (parseInt(vars.bar.width) && (vars.bar.width * vars.totalRows > vars.width)) ? vars.bar.width * vars.totalRows : vars.width - vars.margin.left - vars.margin.right,\n\t\t\t\t\theight = vars.height - vars.margin.top - vars.margin.bottom,\n\t\t\t\t\tpadding = 0.3;\n\n\t\t\t\t// set the ranges\n\t\t\t\t// d[0].qText = Dimension\n\t\t\t\t// d[1].qNum = Measure\n\t\t\t\tvar x = d3.scaleBand()\n\t\t\t\t\t.rangeRound([0, width])\n\t\t\t\t\t.padding(padding)\n\t\t\t\tvar y = d3.scaleLinear()\n\t\t\t\t\t.range([height, 0])\n\t\t\t\tvar ycum = d3.scaleLinear().domain([0, 1]).range([height, 0]); // Pareto Line\n\t\t\t\tvar xAxis = d3.axisBottom(x);\n\t\t\t\tvar yAxis = d3.axisLeft(y)\n\t\t\t\tx.domain(vars.dataRef.map(function (d) { return d.dimension1; }));\n\t\t\t\t// x.domain(vars.dataRef3.map(function (d) { return d.title; }));\n\t\t\t\t// x.domain(vars.dataRef3withTotal.map(function (d) { return d.title; }));\n\t\t\t\ty.domain([0, d3.max(vars.dataRef, function (d) { return d.end; })]);\n\t\t\t\t// y.domain([0, d3.max(vars.dataRef3, function (d) { return d.total; })]);\n\t\t\t\tvar chart = d3.select(`#${vars.id}_inner .content`).append(\"svg\")\n\t\t\t\t\t.attr(\"width\", width + vars.margin.left + vars.margin.right)\n\t\t\t\t\t.attr(\"height\", height + vars.margin.top + (vars.margin.bottom / 2))\n\t\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + vars.margin.left + \",\" + vars.margin.top + \")\");\n\t\t\t\tchart.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"x axis\")\n\t\t\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t\t\t.call(xAxis)\n\t\t\t\t\t.selectAll(\"text\");\n\t\t\t\tchart.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y axis\")\n\t\t\t\t\t.call(yAxis\n\t\t\t\t\t\t.tickFormat(function (d) {\n\t\t\t\t\t\t\treturn util.roundNumber(vars, d)\n\t\t\t\t\t\t}));\n\t\t\t\tchart.selectAll(\".bar\")\n\t\t\t\t\t.data(vars.dataRef)\n\t\t\t\t\t.enter().append(\"rect\")\n\t\t\t\t\t.attr(\"height\", 0)\n\t\t\t\t\t// .transition()\n\t\t\t\t\t// .ease(\"easeLinear\")\n\t\t\t\t\t// .duration(2500)\n\t\t\t\t\t.attr(\"class\", function (d) { return \"bar \" + d.class })\n\t\t\t\t\t.attr(\"x\", function (d) { return x(d.dimension1); })\n\t\t\t\t\t.attr(\"width\", x.bandwidth())\n\t\t\t\t\t// .attr(\"y\", function(d) { return y(d.measure1Num); })\n\t\t\t\t\t// .attr(\"height\", function(d) { return height - y(d.measure1Num); })\n\t\t\t\t\t.attr(\"y\", function (d) { return y(Math.max(d.start, d.end)); })\n\t\t\t\t\t.attr(\"height\", function (d) { return Math.abs(y(d.start) - y(d.end)); })\n\t\t\t\t\t.attr('style', function (d) { return `fill:${util.labels[d.dimension2].color};`; })\n\t\t\t\t\t.on(\"mousemove\", function (d) {\n\t\t\t\t\t\tif (vars.tooltip.visible) {\n\t\t\t\t\t\t\ttip\n\t\t\t\t\t\t\t\t.html(util.tooltip.html(d, vars))\n\t\t\t\t\t\t\t\t// .style(\"left\", d3.event.pageX - ($('.sui-tip').width() / 2) + \"px\")\n\t\t\t\t\t\t\t\t// .style(\"top\", d3.event.pageY - $('.sui-tip').height() - 10 + \"px\")\n\t\t\t\t\t\t\t\t.style(\"left\", d3.event.pageX - ($('.sui-tip').width() / 2 + 7) + \"px\")\n\t\t\t\t\t\t\t\t.style(\"top\", d3.event.pageY - $('.sui-tip').height() - 30 + \"px\")\n\t\t\t\t\t\t\t\t.style(\"display\", \"inline-block\")\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout\", function () {\n\t\t\t\t\t\ttip.style(\"display\", \"none\");\n\t\t\t\t\t})\n\t\t\t\t\t.on('click', function (d) {\n\t\t\t\t\t\tif (d.dimension1 === 'Total') {\n\t\t\t\t\t\t\tvars.this.backendApi.selectValues(1, [d.qElemNumber1], true)\n\t\t\t\t\t\t\tif (util.selectedLabels.includes(d.dimension2)) {\n\t\t\t\t\t\t\t\tutil.selectedLabels.splice(util.selectedLabels.indexOf(d.dimension2), 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tutil.selectedLabels.push(d.dimension2)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvars.this.backendApi.selectValues(0, [d.qElemNumber1], true)\n                        }\n\t\t\t\t\t\ttip.style(\"display\", \"none\");\n\t\t\t\t\t});\n\t\t\t\t// .attr(\"transform\", function(d) { return \"translate(\" + x(d[0].qText) + \",0)\"; });\n\n\t\t\t\t// Add the text on top of the bars\n\t\t\t\tchart.selectAll(\".text\")\n\t\t\t\t\t.data(vars.dataRef3)\n\t\t\t\t\t.enter().append(\"text\")\n\t\t\t\t\t.style(\"font-size\", `10px`)\n\t\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t\t.attr(\"x\", function (d) { return x(d.title) + (x.bandwidth() / 2); })\n\t\t\t\t\t.attr(\"y\", function (d) { return y(d.end) - 5; })\n\t\t\t\t\t.text(function (d) { return util.roundNumber(vars, d.total); })\n\n\t\t\t\t// Add the text for the Totals\n\t\t\t\tchart.selectAll(\".text\")\n\t\t\t\t\t.data(vars.dataRef)\n\t\t\t\t\t.enter()\n\t\t\t\t\t.filter(function (d) { return d.dimension1 === 'Total' })\n\t\t\t\t\t.append(\"text\")\n\t\t\t\t\t.style(\"font-size\", `10px`)\n\t\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t\t.attr(\"x\", function (d) { return x(d.dimension1) + (x.bandwidth() / 2); })\n\t\t\t\t\t.attr(\"y\", function (d) { return y(d.end) + (y(d.start) - y(d.end)) / 2 + 5; })\n\t\t\t\t\t.attr('style', function (d) { return `font-size:10px; fill:${util.labels[d.dimension2].textColor};`; })\n\t\t\t\t\t// .text(function (d) {\treturn util.roundNumber(d.end); })\n\t\t\t\t\t.text(function (d) { return d.percentage; })\n\n\t\t\t\t// chart.data(vars.dataRef).filter(function (d) { return d.class != \"total\" }).append(\"line\")\n\t\t\t\t// \t.attr(\"class\", \"connector\")\n\t\t\t\t// \t// .attr(\"x1\", function(d) { return x(d.dimension1) } )\n\t\t\t\t// \t.attr(\"x1\", x.bandwidth() + (x.bandwidth() / 2))\n\t\t\t\t// \t.attr(\"y1\", function (d) { return y(d.end) })\n\t\t\t\t// \t// .attr(\"x2\", function(d) { return x(d.dimension1) + 200 } )\n\t\t\t\t// \t.attr(\"x2\", x.bandwidth() / (1 - padding) - 5)\n\t\t\t\t// \t.attr(\"y2\", function (d) { return y(d.end) })\n\n\t\t\t\t// Add x acis interactivity\n\t\t\t\tchart.selectAll(\".x.axis .tick\")\n\t\t\t\t\t.on(\"click\", function (d) {\n\t\t\t\t\t\tvars.this.backendApi.selectValues(0, [vars.dataRef2[d].data[0].qElemNumber1], true);\n\t\t\t\t\t})\n\n\t\t\t\t//Draw Pareto line\n\t\t\t\t// var guide = d3.line()\n\t\t\t\t// \t.x(function (d) { return x(d.title) + (x.bandwidth() / 2); })\n\t\t\t\t// \t.y(function (d) { return ycum(d.cumulativePercentage) })\n\t\t\t\t// \t// .curve(d3.curveBasis);\n\t\t\t\t// chart.append('path')\n\t\t\t\t// \t.data([vars.dataRef3])\n\t\t\t\t// \t.attr('class', 'line')\n\t\t\t\t// \t.attr('d', guide);\n                \n\t\t\t\t// console.log(vars)\n\t\t\t\t// console.log(util)\n\t\t\t\tconsole.info(`%c ${vars.name} ${vars.v}: `, 'color: red', `${vars.id} Loaded!`);\n\t\t\t\treturn qlik.Promise.resolve();\n\t\t\t},\n\t\t\t// controller: [\"$scope\", \"$element\", function ( $scope ) {}]\n\t\t};\n\n\t});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".senseui-StackedBarParetto .legend {\\n  text-align: center;\\n}\\n.senseui-StackedBarParetto .legend .column {\\n  display: inline-block;\\n  padding-right: 10px;\\n  cursor: pointer;\\n}\\n.senseui-StackedBarParetto .box {\\n  display: inline-block;\\n  margin-right: 3px;\\n  width: 10px;\\n  height: 10px;\\n}\\n.senseui-StackedBarParetto .line {\\n  fill: none;\\n  stroke: purple;\\n  stroke-width: 1.5px;\\n}\\n.senseui-StackedBarParetto .line.connector {\\n  stroke: grey;\\n  stroke-dasharray: 3;\\n}\\n.senseui-StackedBarParetto .bar {\\n  cursor: pointer;\\n}\\n.senseui-StackedBarParetto .bar:hover {\\n  fill: #77b62a;\\n}\\n.senseui-StackedBarParetto .bar text {\\n  fill: white;\\n  font: 12px sans-serif;\\n  text-anchor: middle;\\n}\\n.senseui-StackedBarParetto .axis text {\\n  font: 10px sans-serif;\\n  fill: gray;\\n}\\n.senseui-StackedBarParetto .axis path,\\n.senseui-StackedBarParetto .axis line {\\n  fill: none;\\n  stroke: lightgray;\\n  shape-rendering: crispEdges;\\n}\\n.senseui-StackedBarParetto .domain {\\n  stroke: gray;\\n}\\n.senseui-StackedBarParetto .x.axis .tick {\\n  cursor: pointer;\\n}\\n/* TOOLTIP */\\n.sui-tip {\\n  position: absolute;\\n  font-size: 11px;\\n  padding: 8px;\\n  background: white !important;\\n  color: #666666;\\n  border: 1px solid #CCCCCC;\\n  /* #404040 = 64,64,64 */\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  background-color: rgba(64, 64, 64, 0.9);\\n  line-height: 1.5;\\n  border-radius: 5px;\\n  max-width: 350px;\\n  -webkit-transition: opacity 1s;\\n  /* Safari */\\n  transition: opacity 1s;\\n  z-index: 1022;\\n  font-family: Arial, Helvetica, sans-serif !important;\\n  -webkit-box-shadow: 0px 4px 7px -4px #999999;\\n  -moz-box-shadow: 0px 4px 7px -4px #999999;\\n  box-shadow: 0px 4px 7px -4px #999999;\\n}\\n.sui-tip .dimension {\\n  font-weight: bold;\\n  font-size: 14px;\\n  display: block;\\n}\\n.sui-tip .measure {\\n  display: block;\\n}\\n.sui-tip .box {\\n  width: 10px;\\n  height: 10px;\\n  display: inline-block;\\n  margin-right: 5px;\\n  border: 1px solid #CCCCCC;\\n}\\n.sui-tip:after,\\n.sui-tip:before {\\n  top: 100%;\\n  left: 50%;\\n  border: solid transparent;\\n  content: \\\" \\\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.sui-tip:after {\\n  border-color: rgba(255, 255, 255, 0);\\n  border-top-color: #ffffff;\\n  border-width: 10px;\\n  margin-left: -10px;\\n}\\n.sui-tip:before {\\n  border-color: rgba(153, 153, 153, 0);\\n  border-top-color: #999999;\\n  border-width: 11px;\\n  margin-left: -11px;\\n}\\n.sui-tip .tt-container {\\n  display: -webkit-flex;\\n  display: flex;\\n  flex: 1 0 0;\\n  flex-flow: column wrap;\\n}\\n.sui-tip .tt-container .tt-row {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: row;\\n  flex-direction: row;\\n  -webkit-justify-content: flex-start;\\n  justify-content: flex-start;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-header {\\n  flex: 1 0 100%;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #666666;\\n  padding-bottom: 5px;\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-label {\\n  flex: 1 0 auto;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #666666;\\n}\\n.sui-tip .tt-container .tt-row .tt-item-value {\\n  flex: 1 0 auto;\\n  box-sizing: border-box;\\n  background: white;\\n  color: #333333;\\n  text-align: right;\\n  padding-left: 5px;\\n}\\n.sui-tip .tt-container .tt-row:nth-child(2) {\\n  padding-top: 5px;\\n}\\n.sui-tip .border-top {\\n  border-top: 1px solid lightgray;\\n}\\n.sui-tip .padding-top {\\n  padding-top: 5px;\\n}\\n.sui-tip .padding-bottom {\\n  padding-bottom: 5px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader/dist/cjs.js!./src/index.less\n// module id = 3\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/addStyles.js\n// module id = 5\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/urls.js\n// module id = 6\n// module chunks = 0","/*****************\r\n* UTILITIES\r\n*****************/\r\nconst util = {\r\n\ttotalRows: 0,\r\n\tlabels: {},\r\n\tlabelsCreated: false,\r\n\tselectedLabels: [],\r\n\ttooltip: {\r\n\t\telement: (d3) => {\r\n\t\t\tlet element = null;\r\n\t\t\t// Create element only once\r\n\t\t\tif (!$('.sui-tip').length) {\r\n\t\t\t\telement = d3.select(\"body\").append(\"div\").attr(\"class\", \"sui-tip\");\r\n\t\t\t} else {\r\n\t\t\t\telement = d3.select(\".sui-tip\")\r\n\t\t\t\telement.style(\"display\", \"none\");\r\n\t\t\t}\r\n\t\t\treturn element\r\n\t\t},\r\n\t\thtml: (d, vars) => {\r\n\t\t\tvar html = `\r\n                <div class=\"tt-container\">\r\n                    <div class=\"tt-row\"><div class=\"tt-item-header\">${vars.dataRef2[d.dimension1].title}</div></div>\r\n            `;\r\n\t\t\tfor (let key in vars.dataRef2[d.dimension1].data) {\r\n\t\t\t\thtml += `\r\n                    <div class=\"tt-row padding-bottom\">\r\n                        <div class=\"tt-item-label\">\r\n                            <div class=\"box\" style=\"background-color: ${util.labels[vars.dataRef2[d.dimension1].data[key].dimension2].color}\"></div>\r\n                            ${vars.dataRef2[d.dimension1].data[key].dimension2}:\r\n                        </div>\r\n                        <div class=\"tt-item-value\">${util.roundNumber(vars, vars.dataRef2[d.dimension1].data[key].measure1Num)}</div>\r\n                    </div>\r\n                `;\r\n\t\t\t}\r\n\t\t\thtml += `\r\n                    <div class=\"tt-row border-top padding-top\">\r\n                        <div class=\"tt-item-label\">Total</div>\r\n                        <div class=\"tt-item-value\">${util.roundNumber(vars, vars.dataRef2[d.dimension1].total)}</div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n\t\t\treturn html;\r\n\t\t}\r\n\t},\r\n\t// helper Function to round the displayed numbers\r\n\troundNumber: (vars, num, noPrecision) => {\r\n\t\t//check if the string passed is number or contains formatting like 13%\r\n\t\tif (/^[0-9.]+$/.test(num)) {\r\n\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num).toFixed(2) : Math.round(num);\r\n\t\t\tif (num >= 1000 && num < 1000000) {\r\n\t\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000).toFixed(2) : Math.round(num / 1000);\r\n\t\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t\t}\r\n\t\t\t\tnum += 'K'; // Add the abbreviation\r\n\t\t\t} else if (num >= 1000000 && num < 1000000000) {\r\n\t\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000).toFixed(2) : Math.round(num / 1000000);\r\n\t\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t\t}\r\n\t\t\t\tnum += 'M'; // Add the abbreviation\r\n\t\t\t} else if (num >= 1000000000 && num < 1000000000000) {\r\n\t\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000000).toFixed(2) : Math.round(num / 1000000000);\r\n\t\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t\t}\r\n\t\t\t\tnum += 'B'; // Add the abbreviation \r\n\t\t\t\t// Change to B and add T\r\n\t\t\t} else if (num >= 1000000000000) {\r\n\t\t\t\tnum = (vars.precision && !noPrecision) ? parseFloat(num / 1000000000000).toFixed(2) : Math.round(num / 1000000000000);\r\n\t\t\t\tif (/\\.00$/.test(num)) {\r\n\t\t\t\t\tnum = num.replace(/\\.00$/, ''); // Remove .00\r\n\t\t\t\t}\r\n\t\t\t\tnum += 'T'; // Add the abbreviation \r\n\t\t\t\t// Change to B and add T\r\n\t\t\t}\r\n\t\t\tif (vars.symbol && vars.symbol.visible) {\r\n\t\t\t\tif (vars.symbol.char === \"$\" || vars.symbol.char === \"€\") {\r\n\t\t\t\t\tnum = vars.symbol.char + num\r\n\t\t\t\t} else if (vars.symbol.char === \"other\") {\r\n\t\t\t\t\tif (vars.symbol.otherPosition) {\r\n\t\t\t\t\t\tnum = vars.symbol.other + ' ' + num;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnum = num + ' ' + vars.symbol.other;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvars.symbol.char;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn num;\r\n\t}\r\n}\r\n\r\nexport default util;\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js"],"sourceRoot":""}